# TELEGRAM SYSTEM NOTIF ########################################################

- alias: 'Notif - Update Available'
  trigger:
  - platform: state
    entity_id: updater.updater
  action:
  - service: persistent_notification.create
    data:
      message: "An update for Home Assistant is available."
  - service: notify.telegram
    data:
      message: 'ℹ️ An update for *Home Assistant* is available'

################################################################################

- alias: 'Notif - HASS Started'
  trigger:
  - platform: homeassistant
    event: start
  action:
  - service: notify.telegram
    data:
      message: '⚡ *Home Assistant* just started'

################################################################################

- alias: 'Notif - Download Failed'
  trigger:
  - platform: event
    event_type: downloader_download_failed
  action:
  - service: persistent_notification.create
    data_template:
      message: '❌️ Download failed'
  - service: notify.telegram
    data:
      message: 'Download failed'

################################################################################

- alias: 'Notif - Disk Almost Full'
  trigger:
  - platform: numeric_state
    entity_id: sensor.disk_use_percent_home
    above: 90
    for:
      minutes: 10
  action:
  - service: persistent_notification.create
    data_template:
      message: '⚠️️ Disk Almost Full'
  - service: notify.telegram
    data:
      message: 'Disk Almost Full'

# TELEGRAM DEVICE NOTIF ########################################################

- alias: 'Notif - XLNS-PC on'
  trigger:
  - platform: state
    entity_id: switch.switch_xlns_pc
    from: 'off'
    to: 'on'
  action:
  - service: notify.telegram
    data:
      message: '⚡ *XLNS-PC* turned on'

################################################################################

- alias: 'Notif - XLNS-PC off'
  trigger:
  - platform: state
    entity_id: switch.switch_xlns_pc
    from: 'on'
    to: 'off'
  action:
  - service: notify.telegram
    data:
      message: 'ℹ️ *XLNS-PC* turned off'

################################################################################
